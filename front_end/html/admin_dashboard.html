<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="refresh" content="600; url=\admin">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS Link-->
    <link rel="stylesheet" href="/front_end/admin.css">
    <!-- Box Icon-->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@400;500;600;700&display=swap"
          rel="stylesheet">

    <title>CUEA Bot</title>

</head>
<body>
<!--Side Bar-->
<section id="sidebar">
    <a href="/admin" class="brand">
        <i class='bx bxs-bot'></i>
        <span class="text">CUEA Bot</span>
    </a>
    <ul class="side-menu top">
        <li class="active">
            <a href="/admin">
                <i class="bx bxs-dashboard"></i>
                <span class="text">Dashboard</span>
            </a>
        </li>
        <li>
            <a href="/admin/users">
                <i class='bx bxs-user'></i>
                <span class="text">Users</span>
            </a>
        </li>
        <li>
            <a href="/admin/conversation">
                <i class='bx bxs-message-rounded-detail'></i>
                <span class="text">Conversations</span>
            </a>
        </li>
        <li>
            <a href="/admin/event">
                <i class='bx bxs-news'></i>
                <span class="text">Events</span>
            </a>
        </li>
        <li>
            <a href="/admin/lecturer">
                <i class='bx bxs-user-detail'></i>
                <span class="text">Lecturers</span>
            </a>
        </li>
        <li>
            <a href="/admin/timetable">
                <i class='bx bxs-book-reader'></i>
                <span class="text">Timetable</span>
            </a>
        </li>
    </ul>
    <ul class="side-menu ">
        <li>
            <a href="/logout">
                <i class='bx bx-log-out'></i>
                <span class="text">Logout</span>
            </a>
        </li>
    </ul>
</section>
<!--Side Bar-->

<section id="content">
    <!-- Navigation Bar -->

    <!-- Content -->
    <nav>
        <i class="bx bx-menu"></i>
    </nav>
    <!-- Navigation Bar -->

    <!--Main-->
    <main>
        <ul class="box-info">
            <li>
                <i class="bx bxs-user"></i>
                <span class="text">
                    <h3 id="user-count">{{users}}</h3>
                    <p>Users</p>
                </span>
            </li>
            <li>
                <i class="bx bxs-chat"></i>
                <span class="text">
                    <h3 id="conversation-count">{{conversation}}</h3>
                    <p>Conversations</p>
                </span>
            </li>
            <li>
                <i class="bx bxs-calendar-check"></i>
                <span class="text">
                    <h3 id="training-count">{{training_data}}</h3>
                    <p>Training Data</p>
                </span>
            </li>
        </ul>

        <div class="table-data">
            <div class="order">
                <div class="head">
                    <h3>Recent Conversations</h3>
                </div>
                <table>
                    <thead>
                    <tr>
                        <th>User</th>
                        <th>Message Sent</th>
                        <th>Time</th>
                    </tr>
                    </thead>
                    <tbody>
                    {table_rows}
                    </tbody>
                </table>
            </div>
            <div class="todo">
                <div class="head">
                    <h3>Bot Library</h3>
                </div>
                <ul class="todo-list">
                    <li class="not-completed">
                        <p>School Events</p>
                        <a href="/admin/event"><i class="bx bx-dots-vertical-rounded"></i></a>
                    </li>
                    <li class="completed">
                        <p>Lecturers</p>
                        <a href="/admin/lecturer"><i class="bx bx-dots-vertical-rounded"></i></a>
                    </li>
                    <li class="not-completed">
                        <p>Timetable</p>
                        <a href="/admin/timetable"><i class="bx bx-dots-vertical-rounded"></i></a>
                    </li>

                </ul>
            </div>
        </div>
    </main>
    <!--Main-->
</section>
<!-- Content -->
<script>
    const counts = {
        users: '{{users}}',
        conversations: '{{conversations}}',
        training_data: '{{training_data}}',
    }
    document.getElementById('user-count').innerHTML = counts.users;
    document.getElementById('conversation-count').innerHTML = counts.conversations;
    document.getElementById('training-count').innerHTML = counts.training_data;
</script>
<script src="/front_end/admin.js"></script>
</body>
</html>